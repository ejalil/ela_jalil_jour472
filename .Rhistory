library(tidyverse)
baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
as.data.frame()
#baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
# as.data.frame()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
library(readr)
baltcity_income_clean <- read_csv("lab_05/pre_lab_05/baltcity_income_clean.csv")
View(baltcity_income_clean)
#baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
# as.data.frame()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
getwd(baltcity_income_clean)
getwd()
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
#baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
# as.data.frame()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv(~/Documents/GitHub/ela_jalil_jour472/lab_05/pre_lab_05/baltcity_income_clean.csv) %>%
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("~/Documents/GitHub/ela_jalil_jour472/lab_05/pre_lab_05/baltcity_income_clean.csv") %>%
as.data.frame()
getwd()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("~/Documents/GitHub/ela_jalil_jour472/lab_05/pre_lab_05/baltcity_income_clean.csv") %>%
as.data.frame()
getwd()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = (x2020-x2010)/x2010) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
head()
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
maryland_ppp <- read_csv("assets/data/ppp_applications_md_small.csv")
library(readr)
ppp_applications_md <- read_csv("lab_05/pre_lab_05/ppp_applications_md.csv")
View(ppp_applications_md)
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
maryland_ppp <- read_csv("ppp_applications_md.csv")
getwd()
maryland_ppp <- read_csv("ppp_applications_md.csv")
view(ppp_applications_md)
maryland_ppp <- read_csv("~/Documents/GitHub/ela_jalil_jour472/lab_05/pre_lab_05/pp_applications_md.csv")
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
maryland_ppp <- read_csv("~/Documents/GitHub/ela_jalil_jour472/lab_05/pre_lab_05/ppp_applications_md.csv")
getwd()
view(ppp_applications_md)
#working on this with your laptop, uncomment and use this code below
#maryland_ppp <- read.csv("ppp_applications_md.csv")
#uncomment below to see the entire dataframe
#View(maryland_ppp)
#uncomment below to see the entire dataframe
#View(maryland_ppp)
#uncomment below to see the entire dataframe
#View(maryland_ppp)
#uncomment below to see the entire dataframe
View(maryland_ppp)
maryland_ppp %>%
mutate(
upper_city = str_to_upper(city)
) %>%
select(city, upper_city, name, amount) %>%
head()
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = case_when(
servicing_lender_state == 'NA' ~ "NA",
servicing_lender_state == 'MD' ~ "IN",
servicing_lender_state != 'MD' ~ "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = if_else(
servicing_lender_state == 'MD', "IN", "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
library(readr)
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv")
View(city_md_income)
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv")
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
baltcity_income %>%
select(place,median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = (median_inc_2020-median_inc_2010) %>%
head()
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
baltcity_income %>%
select(place,median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020-median_inc_2010)) %>%
head()
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020-median_inc_2010))
head()
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020-median_inc_2010)) %>%
head()
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020-median_inc_2010))
view(Diff_Income)
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020-median_inc_2010)) %>%
view(Diff_Income)
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Income = ((median_inc_2020 - median_inc_2010)) %>%
view(Diff_Income)
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
city_md_income
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
city_md_income
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame() %>%
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
city_md_income <- read_csv("lab_05/pre_lab_05/city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
view(Diff_Median_Income)
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
rlang::last_trace()
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = (median_inc_2020 - median_inc_2010)/median_inc_2010) %>%
head()
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = (median_inc_2020 - median_inc_2010)/median_inc_2010)
baltcity_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = (median_inc_2020 - median_inc_2010)/median_inc_2010)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
view(Diff_Median_Income)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
view(Diff_Median_Income)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
city_md_income <- city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
city_md_income <- city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010))
view(city_md_income)
city_md_income <-city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = (median_inc_2020 - median_inc_2010)/median_inc_2010)
View(city_md_income)
library(formattable)
city_md_income <-city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = percent(median_inc_2020 - median_inc_2010)/median_inc_2010)
View(city_md_income)
library(formattable)
city_md_income <-city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = percent(median_inc_2020 - median_inc_2010)/median_inc_2010)
arrange.desc(Diff_Median_PCT)
library(formattable)
city_md_income <-city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = percent(median_inc_2020 - median_inc_2010)/median_inc_2010)
arrange(desc(Diff_Median_PCT))
library(formattable)
city_md_income <-city_md_income %>%
mutate(Diff_Median_Income = (median_inc_2020 - median_inc_2010)) %>%
mutate(Diff_Median_PCT = percent(median_inc_2020 - median_inc_2010)/median_inc_2010) %>%
arrange(desc(Diff_Median_PCT))
View(city_md_income)
slice_max(Diff_Median_PCT, n=25)
city_md_income %>%
slice_max(Diff_Median_PCT, n=25)
city_md_income %>%
arrange(Diff_Median_PCT) %>%
slice_max(Diff_Median_PCT, n=25)
city_md_income %>%
slice_min(Diff_Median_PCT, n=25)
city_md_income %>%
summary()
lowest <- md_city_income %>%
mutate(
category =case_when(
median_inc_2020 >= '63327' ~ "above"
median_inc_2020 <= '63327' ~ "below"
lowest <- md_city_income %>%
mutate(
category =case_when(
median_inc_2020 >= '63327' ~ "above"
median_inc_2020 <= '63327' ~ "below"
lowest <- md_city_income %>%
mutate(
category =case_when(
median_inc_2020 >= '63327'~"above"
median_inc_2020 <= '63327'~"below"
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= '63327' ~ "above"
median_inc_2020 <= '63327'~"below"
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= '63327' ~ "above"
median_inc_2020 <= '63327'~ "below"
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= '63327' ~ "above",
median_inc_2020 <= '63327'~ "below"
)
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= '63327' ~ "above",
median_inc_2020 <= '63327'~ "lowest"
)
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= "63327" ~ "above",
median_inc_2020 <= "63327"~ "lowest"
)
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
)
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
))
lowest <- md_city_income
md_city_income %>%
lowest <- md_city_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
))
city_md_income %>%
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
))
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
))
View(lowest)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
)) %>%
select(place, median_inc_2020,category)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327~ "lowest"
)) %>%
select(place, median_inc_2020 , category)
View(city_md_income)
black_population <- read_csv("black_population.csv")
#Loading libraries
library(tidyverse)
library(janitor)
getwd()
setwd("Users/elajalil/Documents/GitHub/ela_jalil_jour472/data_notebook")
#Loading libraries
library(tidyverse)
library(janitor)
black_population <- read_csv("black_population.csv")
dispo <- black_population %>%
filter(CSA2010 %in% c("Upton/Druid Heights", "Sandtown-Winchester/Harlem Park", "Southwest Baltimore", "Oldtown/Middle East", "Cherry Hill"))
black_population <- read_csv("black_population.csv")
dispo <- black_population %>%
filter(CSA2010 %in% c("Upton/Druid Heights", "Sandtown-Winchester/Harlem Park", "Southwest Baltimore", "Oldtown/Middle East", "Cherry Hill"))
dispo <- dispo %>%
select(CSA2010, paa20)
#The five most impoverished neighborhoods in Baltimore City had a majority-Black population as of 2020. Sandtown-Winchester had a 92.5% Black population, Cherry Hill had a 89.1% Black population, Upton/Druid Heights had an 88% Black population, Oldtown/Middle East had a 77.5% Black population and Southwest Baltimore had a 75.2% Black population.
View(dispo)
black_population <- read_csv("black_population.csv")
dispo <- black_population %>%
filter(CSA2010 %in% c("Upton/Druid Heights", "Sandtown-Winchester/Harlem Park", "Southwest Baltimore", "Oldtown/Middle East", "Cherry Hill"))
dispo <- dispo %>%
select(CSA2010, paa20)
arrange(desc(dispo))
View(dispo)
poverty_child <- read_csv("poverty_baltimore.csv")
filter_poverty <- poverty_child %>%
select(CSA2020, hhchpov20)
dispo_poverty <- filter_poverty %>%
filter(CSA2020 %in% c("Upton/Druid Heights", "Sandtown-Winchester/Harlem Park", "Southwest Baltimore", "Oldtown/Middle East", "Cherry Hill"))
dispo_poverty <- dispo_poverty %>%
select(CSA2020, hhchpov20)
#The five neighborhoods in Baltimore City that have the lowest household income and are below the 2020 poverty rate also have relatively high rates of childhood poverty. Oldtown/Middle East is the only neighborhood without a majority percentage of childhood poverty (48.6%), with Cherry Hill having a 51.2% childhood poverty rate, Southwest Baltimore having a 55.5% childhood poverty rate, Sandtown-Winchester/Harlem Park having a 60.5% childhood poverty rate, and Upton/Druid Heights having a 69.8% childhood poverty rate.
View(dispo_poverty)
View(dispo)
dispo %>%
ggplot(aes(x=CSA2010, y=n, weight=n, fill=n)) +
coord_flip() +
geom_col()+
geom_text(aes(label=n), hjust = -.1, size = 2.5) +
labs(
title="Arrests by Year in San Francisco",
x = "total arrests",
y = "year",
caption = "source: SF PD Service Call Data, 2016-2019")
View(dispo)
dispo %>%
ggplot(data, aes(x = CSA2010, y = paa20, weight = paa20, fill = paa20)) +
coord_flip() +
geom_col() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = "Arrests by Year in San Francisco",
x = "Total Arrests",
y = "Year",
caption = "Source: SF PD Service Call Data, 2016-2019"
)
rlang::last_trace()
rlang::last_trace(drop = FALSE)
dispo %>%
ggplot(data, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col(aes(weight = paa20)) +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = "Arrests by Year in San Francisco",
x = "Total Arrests",
y = "Year",
caption = "Source: SF PD Service Call Data, 2016-2019"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = "Arrests by Year in San Francisco",
x = "Total Arrests",
y = "Year",
caption = "Source: SF PD Service Call Data, 2016-2019"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = "Percentage Black population in neighborhoods with lowest median household income",
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = "Percentage Black population in poorest Baltimore neighborhoods",
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
View(baltcity_income)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = str_wrap("Percentage Black population in poorest Baltimore neighborhoods",width=15),
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = str_wrap("Percentage Black population in poorest Baltimore neighborhoods",width=25),
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = str_wrap("Percentage Black population in poorest Baltimore neighborhoods",width=35),
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
ggplot(dispo, aes(x = CSA2010, y = paa20, fill = paa20)) +
geom_col() +
coord_flip() +
geom_text(aes(label = paa20), hjust = -0.1, size = 2.5) +
labs(
title = str_wrap("Percentage Black population in poorest Baltimore neighborhoods",width=40),
x = "Neighborhoods",
y = "Percentage Black Population",
caption = "Source: US Census Data"
)
